/*
    SENCILLO SENSOR DE MOVIMIENTO CON UN PIR  version 1
    AUTOR : JOSE MARIA MENDEZ RUIZ

    CODIGO LIBRE PARA UTILIZAR COMO QUIERAS
*/
  
 // DECLARAMOS LAS VARIABLES QUE INDICAN LOS PINES QUE VAMOS A UTILIZAR
 
int sensorpir = 5;              // Pin del salida del sensor que est치 como salida.
int led = 2;                    // Puedes conectar un LED en el 13 para ver el efecto visual cuando se activa al detectar presencia
int led_calibrado  = 3;         // Este led parpadear치 mientras el sensor se est치 calibrando
int tiempo_calibracion = 30;    // Este tiempo es el que necesia el sensor cuando se enciende por primera vez, este valor est치 en el datasheet ( hoja de especificacione del fabricante )


void setup()
{
  // Declaramos los pines que vamos a utilizar y el tipo que van a tener dichos pines

  pinMode(sensorpir, INPUT); 
  pinMode(led, OUTPUT); 
  pinMode(led_calibrado, OUTPUT); 
  
  // ENCENDEMOS EL LED DE ESTA CALIBRANDO Y ESPERAMOS EL TIEMPO INDICADO POR EL FABRICANTE
  digitalWrite(led_calibrado, HIGH);
  delay(tiempo_calibracion * 1000); // multiplico por 1000 para contar los segundos que el fabricante me indica que necesita el sensor para calibrarse
  digitalWrite(led_calibrado, LOW); // Apago el led de calibracion y ya se puede usar el sensor
}
 
void loop()
 {
 if(digitalRead(sensorpir)== HIGH)
  { 
   digitalWrite(led, HIGH);
   delay(1000);
   digitalWrite(led , LOW);
  }
}
